<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PICKLEBALL SCORE - Äá»¨C TRá»ŒNG</title>

<style>
  body {
    font-family: Arial, sans-serif;
    background: #eef2f3;
    margin: 0; padding: 0;
    text-align: center;
  }

  h1 {
    background: #0a57ff;
    color: #fff;
    padding: 15px;
    margin: 0;
    font-size: 26px;
    box-shadow: 0 3px 6px rgba(0,0,0,0.25);
  }

  .controls, .scoreboard {
    margin: 20px auto;
    max-width: 800px;
    background: #fff;
    padding: 15px;
    border-radius: 10px;
    box-shadow: 0 3px 6px rgba(0,0,0,0.2);
  }

  label {
    font-weight: bold;
  }

  select {
    padding: 7px;
    border-radius: 5px;
  }

  .team {
    display: flex;
    justify-content: space-between;
    margin: 15px 0;
    padding: 15px;
    border-radius: 10px;
    background: #f5f5f5;
  }

  .teamA { border-left: 10px solid #ff5757; }
  .teamB { border-left: 10px solid #2aa3ff; }

  button {
    padding: 10px 14px;
    font-size: 18px;
    margin: 5px;
    border-radius: 8px;
    cursor: pointer;
  }

  .court {
    margin: 20px auto;
    width: 340px;
    height: 600px;
    border: 4px solid #444;
    position: relative;
    background: #c8f7c5;
  }

  .net {
    position: absolute;
    top: 50%;
    width: 100%;
    height: 6px;
    background: #555;
  }

  .kitchen {
    position: absolute;
    width: 100%;
    height: 70px;
    background: rgba(255, 255, 0, 0.3);
    border-top: 2px dashed #000;
    border-bottom: 2px dashed #000;
  }

  .kitchen.top { top: 50%; transform: translateY(-70px); }
  .kitchen.bottom { bottom: 50%; transform: translateY(70px); }

  .player {
    width: 120px;
    height: 40px;
    background: #fff;
    border-radius: 5px;
    border: 2px solid #000;
    position: absolute;
    line-height: 40px;
    font-weight: bold;
  }

  /* Team colors */
  .A { background: #ffdfdf; border-color: #ff5757; }
  .B { background: #dff1ff; border-color: #2aa3ff; }

  .right { left: 200px; }
  .left { left: 20px; }
  .top { top: 50px; }
  .bottom { bottom: 50px; }

</style>
</head>
<body>

<h1>PICKLEBALL SCORE - Äá»¨C TRá»ŒNG</h1>

<div class="controls">
  <label>Chá»n luáº­t Ä‘iá»ƒm:</label>
  <select id="pointType">
    <option value="11">ÄÃ¡nh 11 Ä‘iá»ƒm</option>
    <option value="15">ÄÃ¡nh 15 Ä‘iá»ƒm</option>
  </select>

  <label style="margin-left:20px;">Kiá»ƒu tháº¯ng:</label>
  <select id="winType">
    <option value="touch">Cháº¡m Ä‘iá»ƒm</option>
    <option value="winby2">CÃ¡ch 2 Ä‘iá»ƒm</option>
  </select>

  <br><br>

  <label>Äá»™i giao banh Ä‘áº§u tiÃªn:</label>
  <select id="firstServe">
    <option value="A">Äá»™i A</option>
    <option value="B">Äá»™i B</option>
  </select>

  <br><br>
  <button onclick="startMatch()" style="background:#00b33c; color:white;">Báº®T Äáº¦U TRáº¬N</button>
</div>

<div class="scoreboard">
  <div class="team teamA">
    <div>
      <h2>Äá»™i A</h2>
      <p>Äiá»ƒm: <span id="scoreA">0</span></p>
    </div>
    <div>
      <button onclick="addPoint('A')">+ Äiá»ƒm</button>
      <button onclick="subPoint('A')">âˆ’ Äiá»ƒm</button>
    </div>
  </div>

  <div class="team teamB">
    <div>
      <h2>Äá»™i B</h2>
      <p>Äiá»ƒm: <span id="scoreB">0</span></p>
    </div>
    <div>
      <button onclick="addPoint('B')">+ Äiá»ƒm</button>
      <button onclick="subPoint('B')">âˆ’ Äiá»ƒm</button>
    </div>
  </div>
</div>

<!-- SÃ‚N PICKLEBALL -->
<div class="court" id="court">
  <div class="net"></div>
  <div class="kitchen top"></div>
  <div class="kitchen bottom"></div>

  <!-- Player positions -->
  <div id="A1" class="player A left bottom">A1</div>
  <div id="A2" class="player A right bottom">A2</div>

  <div id="B1" class="player B left top">B1</div>
  <div id="B2" class="player B right top">B2</div>
</div>

<script>
let scoreA = 0, scoreB = 0;
let servingTeam = "A"; 
let servingPlayer = 1;   // 1 hoáº·c 2
let serveTurn = 1;       // Ä‘á»™i Ä‘áº§u cÃ³ 1 lÆ°á»£t, cÃ¡c Ä‘á»™i sau cÃ³ 2 lÆ°á»£t
let maxPoint = 11;
let maxCap = 15; // 11 â†’ max 15, 15 â†’ max 21
let winBy2 = false;

function startMatch() {
  scoreA = scoreB = 0;
  document.getElementById("scoreA").textContent = 0;
  document.getElementById("scoreB").textContent = 0;

  servingTeam = document.getElementById("firstServe").value;
  servingPlayer = 1;
  serveTurn = 1;

  let pt = document.getElementById("pointType").value;
  let wt = document.getElementById("winType").value;

  maxPoint = pt == "11" ? 11 : 15;
  maxCap   = pt == "11" ? 15 : 21;
  winBy2   = wt == "winby2";

  alert("Báº¯t Ä‘áº§u! Äá»™i " + servingTeam + " giao trÆ°á»›c.");

  updatePositions();
}

function addPoint(team) {

  // Chá»‰ Ä‘á»™i Ä‘ang giao má»›i Ä‘Æ°á»£c Ä‘iá»ƒm!
  if (team !== servingTeam) {
    loseServe();
    return;
  }

  // cá»™ng Ä‘iá»ƒm
  if (team === "A") scoreA++; else scoreB++;

  document.getElementById("scoreA").textContent = scoreA;
  document.getElementById("scoreB").textContent = scoreB;

  switchPositions(team);
  checkWin();
}

function subPoint(team) {
  if (team === "A" && scoreA > 0) scoreA--;
  if (team === "B" && scoreB > 0) scoreB--;
  document.getElementById("scoreA").textContent = scoreA;
  document.getElementById("scoreB").textContent = scoreB;
}

function loseServe() {
  // chuyá»ƒn ngÆ°á»i giao trong Ä‘á»™i
  if (serveTurn === 1) {
    serveTurn = 2;
    servingPlayer = (servingPlayer === 1 ? 2 : 1);
  } else {
    // qua Ä‘á»™i kia
    servingTeam = servingTeam === "A" ? "B" : "A";
    serveTurn = 1;
    servingPlayer = 1;
  }
  updatePositions();
}

function switchPositions(team) {
  servingPlayer = (servingPlayer === 1 ? 2 : 1);
  updatePositions();
}

function updatePositions() {
  // Reset vá»‹ trÃ­ máº·c Ä‘á»‹nh
  const pos = {
    A1: ["left","bottom"], A2: ["right","bottom"],
    B1: ["left","top"],    B2: ["right","top"]
  };

  // Náº¿u ngÆ°á»i Ä‘ang giao â†’ Ä‘á»©ng bÃªn pháº£i
  let sp = servingTeam + servingPlayer;
  if (sp === "A1") pos.A1 = ["right","bottom"];
  if (sp === "A2") pos.A2 = ["right","bottom"];
  if (sp === "B1") pos.B1 = ["right","top"];
  if (sp === "B2") pos.B2 = ["right","top"];

  // cáº­p nháº­t class
  for (let id in pos) {
    let el = document.getElementById(id);
    el.className = "player " + id[0] + " " + pos[id][0] + " " + pos[id][1];
  }
}

function checkWin() {
  let A = scoreA, B = scoreB;

  if (!winBy2) {
    // Cháº¡m Ä‘iá»ƒm
    if (A >= maxPoint) return win("A");
    if (B >= maxPoint) return win("B");
  } else {
    // CÃ¡ch 2 Ä‘iá»ƒm
    if (A >= maxPoint && A - B >= 2) return win("A");
    if (B >= maxPoint && B - A >= 2) return win("B");

    // Cap Ä‘iá»ƒm
    if (A >= maxCap) return win("A");
    if (B >= maxCap) return win("B");
  }
}

function win(team) {
  alert("ğŸ‰ Äá»™i " + team + " THáº®NG TRáº¬N! ğŸ‰");
}
</script>

</body>
</html>
